<section>
  <h1>はじめまして</h1>
  <a href="dodo.jpg" target="_blank">
    <img src="dodo.jpg">
  </a>
  <p>
    はじめまして、このページは DoDo によって生成されました。
    DoDo は静的なブログを作成するツールです。
    静的なブログとは WordPress のように、都度都度ページを生成するのではなく、生成済みのページを配信するブログを指します。
  </p>
  <p>
    このツールは用意された記事データから、ページを組み上げ、ブログに必要なファイル群を生成してくれます。
    また、適切な設定を行うことで、サイトマップの生成や、ファイルの圧縮、サーバへのアップロードなども自動で行ってくれます。
  </p>
  <p>
    配信するファイルをすべて静的にすることで、
    CMS サーバへに対する攻撃の心配をする必要がなくなり、
    CDN のような配信形式との親和性も高いと思われます。
    ただし、このソフトウェアはまだ多くの課題を抱えているので、
    普通にブログが欲しい方は WordPress 等を使用することをお勧めします。
  </p>
</section>
<section>
  <h2>DoDo の使い方</h2>
  <p>
    簡単な使い方は<a href="https://github.com/tikubonn/dodo2">こちら</a>で紹介されています。
  </p>
</section>
<section>
  <h2>今後の課題</h2>
  <p>
    このツールは作者(ちくぼん)が自分用に実験で書いたソフトウェアです。
    そのため、ソフトの仕様を考える段階で、幾つか思い違いをしていたり、一部の機能や最適化が行われていなかったり、問題もあります。
    現在の課題は以下の通りです。
  </p>
  <ol>
    <li>更新の有無を判断する処理の改善</li>
    <li>並列処理に対応していない</li>
    <li>最適化がまだされていない</li>
  </ol>
  <h3>更新の有無を判断する処理の改善</h3>
  <p>
    記事だけを表示するのであれば、記事データがページよりも新しいか調べるだけで済みます。
    しかし、そこに最新記事の一覧などが加わると、途端に依存するページ量が増えてしまい、
    最新記事を編集するだけで、その後のすべてのページを更新する羽目になってしまいます。
    ページのパーツごとに iframe 化する案もありますが、現在のウェブでそれをするのは、とても醜いので、
    良いアイデアが浮かぶまでこの問題は保留されています。
  </p>
  <h3>並列処理に対応していない</h3>
  <p>
    Python の multiprocessing.Pool および concurrent.futures.ProcessPoolExecutor は、
    入れ子で使用することができないため、並列化には対応させていません。
    自作で並列処理を書いてもよいのですが、まだ全体的な仕様が煮詰まっていないので、この課題は保留にしています。
  </p>
  <p>
    一応 threading.Pool であれば、問題なく使用することができますが、
    排他制御が面倒くさいのと GIL の関係でそこまで実行速度が改善されなかったため、無視します。
    CPython と異なり GIL の制約がなさそうな Jython ならば効果がありそうです。
  </p>
  <h3>最適化がまだされていない</h3>
  <p>
    <del>
      現在のバージョンは、ファイルの読み込み回数がとても多いです。
      そのため、記事数を増やすと更新にかかる時間が増える可能性があります。
      一応、将来的にファイル入出力はキャッシュ化する予定ではありますが、
      これもまだ他の仕様が煮詰まっていないので、保留にしています。
    </del>
  </p>
  <p>
    一部処理のファイル読み込みをキャッシュ化しました。
    ただし、シングルトンに類似したクラスを作成するにあたり __new__ 演算子を上書きしてしまったため、
    並列処理時に pickle が例外を送出するようになってしまいました。
    そのため、他の納得する手段が思いつくまでの間、並列処理への対応は見送ることにします。
  </p>
</section>
